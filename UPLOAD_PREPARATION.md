# Mapbox ä¸Šå‚³æº–å‚™æŒ‡å—

## âœ… ç•¶å‰ç‹€æ…‹æª¢æŸ¥

### å·²å®Œæˆ âœ…
- âœ… Tippecanoe å·²å®‰è£
- âœ… æ‰€æœ‰ç“¦ç‰‡æ–‡ä»¶å·²ç”Ÿæˆï¼ˆ21.4 GBï¼‰
- âœ… ä¸Šå‚³è…³æœ¬å·²æº–å‚™

### éœ€è¦æº–å‚™çš„ ğŸ“‹

#### 1. Mapbox Access Token

**ç²å–æ–¹å¼ï¼š**
1. ç™»éŒ„ [Mapbox å¸³è™Ÿ](https://account.mapbox.com/)
2. é€²å…¥ "Access tokens" é é¢
3. è¤‡è£½æ‚¨çš„ **Default public token** æˆ–å‰µå»ºæ–° token
4. Token æ ¼å¼ï¼š`pk.eyJ1...`

**è¨­ç½®ç’°å¢ƒè®Šé‡ï¼š**
```bash
export MAPBOX_ACCESS_TOKEN=your_token_here
```

#### 2. Mapbox ç”¨æˆ¶å

**æŸ¥æ‰¾æ–¹å¼ï¼š**
1. ç™»éŒ„ [Mapbox Studio](https://studio.mapbox.com/)
2. æŸ¥çœ‹å³ä¸Šè§’ï¼Œæˆ–åœ¨ URL ä¸­ï¼š`https://studio.mapbox.com/your-username/`
3. è¨˜éŒ„æ‚¨çš„ç”¨æˆ¶å

---

## ğŸš€ ä¸‰ç¨®ä¸Šå‚³æ–¹å¼

### æ–¹å¼ 1: ç¶²é ä¸Šå‚³ï¼ˆæ¨è–¦ â­ï¼‰

**å„ªé»ï¼š**
- âœ… ç„¡éœ€å®‰è£ä»»ä½•å·¥å…·
- âœ… å¯è¦–åŒ–é€²åº¦
- âœ… æœ€ç°¡å–®

**æ­¥é©Ÿï¼š**

1. **æ‰“é–‹ Mapbox Studio**
   - è¨ªå•ï¼šhttps://studio.mapbox.com/tilesets/
   - ç™»éŒ„æ‚¨çš„å¸³è™Ÿ

2. **ä¸Šå‚³æ–‡ä»¶**
   - é»æ“Šå³ä¸Šè§’ "**New tileset**" æŒ‰éˆ•
   - é¸æ“‡ "**Upload file**"
   - é¸æ“‡æ–‡ä»¶ï¼š`data/gadm/tiles/gadm_level0.mbtiles`
   - ç­‰å¾…ä¸Šå‚³å®Œæˆ

3. **é‡è¤‡ä¸Šå‚³å…¶ä»–ç´šåˆ¥**
   - Level 1: `gadm_level1.mbtiles`
   - Level 2: `gadm_level2.mbtiles`

4. **è¨˜éŒ„ Tileset ID**
   - ä¸Šå‚³å®Œæˆå¾Œï¼Œè¨˜ä¸‹æ¯å€‹ tileset çš„ ID
   - æ ¼å¼ï¼š`your-username.gadm-level0`

**é è¨ˆæ™‚é–“ï¼š**
- æ¯å€‹æ–‡ä»¶ç´„ 30-60 åˆ†é˜ï¼ˆå–æ±ºæ–¼ç¶²é€Ÿï¼‰
- ç¸½è¨ˆç´„ 2-3 å°æ™‚

---

### æ–¹å¼ 2: ä½¿ç”¨ curl è…³æœ¬ï¼ˆè‡ªå‹•åŒ–ï¼‰

**å„ªé»ï¼š**
- âœ… è‡ªå‹•åŒ–æµç¨‹
- âœ… ç„¡éœ€å®‰è£é¡å¤–å·¥å…·
- âœ… å¯åœ¨å¾Œå°é‹è¡Œ

**æ­¥é©Ÿï¼š**

1. **è¨­ç½®ç’°å¢ƒè®Šé‡**
   ```bash
   export MAPBOX_ACCESS_TOKEN=pk.eyJ1...
   ```

2. **é‹è¡Œä¸Šå‚³è…³æœ¬**
   ```bash
   ./scripts/upload-to-mapbox-curl.sh
   ```

3. **è¼¸å…¥ç”¨æˆ¶å**
   - è…³æœ¬æœƒæç¤ºè¼¸å…¥ Mapbox ç”¨æˆ¶å
   - è¼¸å…¥å¾Œé–‹å§‹è‡ªå‹•ä¸Šå‚³

4. **ç­‰å¾…å®Œæˆ**
   - è…³æœ¬æœƒè‡ªå‹•è™•ç†æ‰€æœ‰ä¸‰å€‹ç´šåˆ¥
   - æ¯å€‹æ–‡ä»¶ä¸Šå‚³å¾Œéœ€è¦ Mapbox è™•ç†ï¼ˆå¯èƒ½éœ€è¦å¹¾åˆ†é˜åˆ°å¹¾å°æ™‚ï¼‰

**é è¨ˆæ™‚é–“ï¼š**
- ä¸Šå‚³æ™‚é–“ï¼šå–æ±ºæ–¼ç¶²é€Ÿ
- è™•ç†æ™‚é–“ï¼šæ¯å€‹æ–‡ä»¶ 10 åˆ†é˜åˆ°å¹¾å°æ™‚

---

### æ–¹å¼ 3: ä½¿ç”¨ Python CLI

**å„ªé»ï¼š**
- âœ… å‘½ä»¤è¡Œå·¥å…·
- âœ… å¯ä»¥ç·¨å¯«è‡ªå‹•åŒ–è…³æœ¬

**æ­¥é©Ÿï¼š**

1. **å®‰è£ Mapbox CLI**
   ```bash
   pip install mapbox
   ```

2. **è¨­ç½®ç’°å¢ƒè®Šé‡**
   ```bash
   export MAPBOX_ACCESS_TOKEN=your_token_here
   ```

3. **ä¸Šå‚³æ–‡ä»¶**
   ```bash
   # ä¸Šå‚³ Level 0
   mapbox upload your-username.gadm-level0 \
     data/gadm/tiles/gadm_level0.mbtiles

   # ä¸Šå‚³ Level 1
   mapbox upload your-username.gadm-level1 \
     data/gadm/tiles/gadm_level1.mbtiles

   # ä¸Šå‚³ Level 2
   mapbox upload your-username.gadm-level2 \
     data/gadm/tiles/gadm_level2.mbtiles
   ```

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é …

### æ–‡ä»¶å¤§å°é™åˆ¶

- Mapbox å–®å€‹æ–‡ä»¶é™åˆ¶ï¼š**10 GB**
- æ‚¨çš„æ–‡ä»¶ï¼š
  - Level 0: 8.4 GB âœ…
  - Level 1: 6.4 GB âœ…
  - Level 2: 6.6 GB âœ…

æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨é™åˆ¶ç¯„åœå…§ï¼

### è™•ç†æ™‚é–“

ä¸Šå‚³å®Œæˆå¾Œï¼ŒMapbox éœ€è¦æ™‚é–“è™•ç†ç“¦ç‰‡é›†ï¼š
- å°æ–‡ä»¶ï¼ˆ< 1 GBï¼‰ï¼šå¹¾åˆ†é˜
- ä¸­ç­‰æ–‡ä»¶ï¼ˆ1-5 GBï¼‰ï¼š10-30 åˆ†é˜
- å¤§æ–‡ä»¶ï¼ˆ> 5 GBï¼‰ï¼š30 åˆ†é˜åˆ°å¹¾å°æ™‚

**å»ºè­°ï¼š**
- ä¸Šå‚³å¾Œç­‰å¾…è™•ç†å®Œæˆ
- åœ¨ Mapbox Studio æŸ¥çœ‹è™•ç†ç‹€æ…‹
- è™•ç†å®Œæˆå¾Œå†æ›´æ–°æ‡‰ç”¨ä»£ç¢¼

### è²»ç”¨

- Mapbox æä¾›å…è²»é¡åº¦
- è¶…éå¾ŒæŒ‰ä½¿ç”¨é‡è¨ˆè²»
- æŸ¥çœ‹ï¼šhttps://account.mapbox.com/

---

## ğŸ“‹ ä¸Šå‚³å‰æª¢æŸ¥æ¸…å–®

åœ¨é–‹å§‹ä¸Šå‚³å‰ï¼Œç¢ºèªï¼š

- [ ] Mapbox Access Token å·²æº–å‚™
- [ ] Mapbox ç”¨æˆ¶åå·²çŸ¥
- [ ] ä¸‰å€‹ .mbtiles æ–‡ä»¶éƒ½å­˜åœ¨
- [ ] æœ‰ç©©å®šçš„ç¶²çµ¡é€£æ¥
- [ ] æœ‰è¶³å¤ çš„æ™‚é–“ï¼ˆ2-3 å°æ™‚ï¼‰

---

## ğŸ¯ ä¸Šå‚³å¾Œçš„ä¸‹ä¸€æ­¥

1. **è¨˜éŒ„ Tileset ID**
   - `your-username.gadm-level0`
   - `your-username.gadm-level1`
   - `your-username.gadm-level2`

2. **æ›´æ–°æ‡‰ç”¨ä»£ç¢¼**
   - ç·¨è¼¯ `js/app-vector-tiles.js`
   - æ›´æ–° `VECTOR_TILES_CONFIG.TILESETS`

3. **æ¸¬è©¦**
   - æ‰“é–‹æ‡‰ç”¨
   - æ¸¬è©¦é‚Šç•Œé¡¯ç¤º
   - æ¸¬è©¦é»æ“Šé¸æ“‡

---

## ğŸ’¡ éœ€è¦å¹«åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°å•é¡Œï¼š
1. æª¢æŸ¥ç¶²çµ¡é€£æ¥
2. æª¢æŸ¥ Token æ˜¯å¦æ­£ç¢º
3. æŸ¥çœ‹ Mapbox Studio çš„éŒ¯èª¤ä¿¡æ¯
4. æŸ¥çœ‹è…³æœ¬è¼¸å‡ºæ—¥èªŒ


